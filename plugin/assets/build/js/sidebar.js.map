{"version":3,"file":"js/sidebar.js","mappings":"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","sources":["webpack://sidekick/external window \"React\"","webpack://sidekick/external window [\"wp\",\"components\"]","webpack://sidekick/external window [\"wp\",\"data\"]","webpack://sidekick/external window [\"wp\",\"editPost\"]","webpack://sidekick/external window [\"wp\",\"i18n\"]","webpack://sidekick/external window [\"wp\",\"plugins\"]","webpack://sidekick/webpack/bootstrap","webpack://sidekick/webpack/runtime/compat get default export","webpack://sidekick/webpack/runtime/define property getters","webpack://sidekick/webpack/runtime/hasOwnProperty shorthand","webpack://sidekick/webpack/runtime/make namespace object","webpack://sidekick/./plugin/assets/src/js/sidebar.js"],"sourcesContent":["module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerPlugin } from '@wordpress/plugins';\nimport { PluginSidebar, PluginSidebarMoreMenuItem } from '@wordpress/edit-post';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPanelBody,\n\tTextareaControl,\n\tButton,\n\tRangeControl,\n\tSpinner,\n} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport React from 'react';\nclass FJSidekickSidebar extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tresults: '',\n\t\t\tloading: false,\n\t\t\tapiKey: fj_sidekick.openai_api_key,\n\t\t\tlength: 150,\n\t\t};\n\t}\n\n\tonButtonClick = () => {\n\t\tthis.setState({ loading: true });\n\n\t\tconst requestOptions = {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAuthorization: 'Bearer ' + this.state.apiKey,\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tmodel: 'text-davinci-002',\n\t\t\t\tprompt: this.props.prompt_metafield,\n\t\t\t\ttemperature: 0,\n\t\t\t\tmax_tokens: this.state.length,\n\t\t\t}),\n\t\t};\n\n\t\tfetch('https://api.openai.com/v1/completions', requestOptions)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tresults: data.choices[0].text.trim(),\n\t\t\t\t\tloading: false,\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__('AI Writer', 'fj-sidekick')}\n\t\t\t\t\ticon=\"welcome-write-blog\"\n\t\t\t\t\tintialOpen={true}\n\t\t\t\t>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tvalue={this.props.prompt_metafield}\n\t\t\t\t\t\tlabel={__('Prompt', 'fj-sidekick')}\n\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\tthis.props.onMetaFieldChange(value)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={__('Length', 'fj-sidekick')}\n\t\t\t\t\t\tmin={10}\n\t\t\t\t\t\tmax={250}\n\t\t\t\t\t\tvalue={this.state.length}\n\t\t\t\t\t\tonChange={(value) => this.setState({ length: value })}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\tonClick={this.onButtonClick}\n\t\t\t\t\t\tstyle={{ marginBottom: 20 }}\n\t\t\t\t\t\tdisabled={this.state.loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{__('Get Content', 'fj-sidekick')}\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t{!this.state.loading && (\n\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\tvalue={this.state.results}\n\t\t\t\t\t\t\tlabel={__('Result', 'fj-sidekick')}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\theight: 300,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{this.state.loading && <Spinner />}\n\t\t\t\t</PanelBody>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nFJSidekickSidebar = withSelect((select) => {\n\treturn {\n\t\tprompt_metafield:\n\t\t\tselect('core/editor').getEditedPostAttribute('meta')\n\t\t\t\t._fj_sidekick_prompt_metafield,\n\t};\n})(FJSidekickSidebar);\n\nFJSidekickSidebar = withDispatch((dispatch) => {\n\treturn {\n\t\tonMetaFieldChange: (value) => {\n\t\t\tdispatch('core/editor').editPost({\n\t\t\t\tmeta: { _fj_sidekick_prompt_metafield: value },\n\t\t\t});\n\t\t},\n\t};\n})(FJSidekickSidebar);\n\nregisterPlugin('fj-sidekick-sidebar', {\n\ticon: 'format-aside',\n\trender: () => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PluginSidebarMoreMenuItem target=\"fj-sidekick-sidebar\">\n\t\t\t\t\t{__('Sidekick', 'fj-sidekick')}\n\t\t\t\t</PluginSidebarMoreMenuItem>\n\t\t\t\t<PluginSidebar\n\t\t\t\t\tname=\"fj-sidekick-sidebar\"\n\t\t\t\t\ttitle={__('Sidekick', 'fj-sidekick')}\n\t\t\t\t>\n\t\t\t\t\t<FJSidekickSidebar />\n\t\t\t\t</PluginSidebar>\n\t\t\t</>\n\t\t);\n\t},\n});\n"],"names":["registerPlugin","PluginSidebar","PluginSidebarMoreMenuItem","__","PanelBody","TextareaControl","Button","RangeControl","Spinner","withSelect","withDispatch","React","FJSidekickSidebar","props","setState","loading","requestOptions","method","headers","Authorization","state","apiKey","body","JSON","stringify","model","prompt","prompt_metafield","temperature","max_tokens","length","fetch","then","response","json","data","results","choices","text","trim","fj_sidekick","openai_api_key","value","onMetaFieldChange","onButtonClick","marginBottom","height","Component","select","getEditedPostAttribute","_fj_sidekick_prompt_metafield","dispatch","editPost","meta","icon","render"],"sourceRoot":""}