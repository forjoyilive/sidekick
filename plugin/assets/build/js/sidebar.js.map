{"version":3,"file":"js/sidebar.js","mappings":"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","sources":["webpack://sidekick/./plugin/assets/src/js/s-logo.js","webpack://sidekick/external window \"React\"","webpack://sidekick/external window [\"wp\",\"components\"]","webpack://sidekick/external window [\"wp\",\"data\"]","webpack://sidekick/external window [\"wp\",\"editPost\"]","webpack://sidekick/external window [\"wp\",\"element\"]","webpack://sidekick/external window [\"wp\",\"i18n\"]","webpack://sidekick/external window [\"wp\",\"plugins\"]","webpack://sidekick/webpack/bootstrap","webpack://sidekick/webpack/runtime/compat get default export","webpack://sidekick/webpack/runtime/define property getters","webpack://sidekick/webpack/runtime/hasOwnProperty shorthand","webpack://sidekick/webpack/runtime/make namespace object","webpack://sidekick/./plugin/assets/src/js/sidebar.js"],"sourcesContent":["import React from 'react';\n\nconst SidekickLogo = () => {\n\treturn (\n\t\t<svg\n\t\t\tviewBox=\"0 0 1133.8533 1133.8533\"\n\t\t\theight=\"1133.8533\"\n\t\t\twidth=\"1133.8533\"\n\t\t\txmlSpace=\"preserve\"\n\t\t\tid=\"svg2\"\n\t\t\tversion=\"1.1\"\n\t\t>\n\t\t\t<defs id=\"defs6\" />\n\t\t\t<g\n\t\t\t\ttransform=\"matrix(1.4856965,0,0,-1.4856965,-62.381837,1201.0396)\"\n\t\t\t\tid=\"g10\"\n\t\t\t>\n\t\t\t\t<g transform=\"scale(0.1)\" id=\"g12\">\n\t\t\t\t\t<path\n\t\t\t\t\t\tid=\"path22\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfill: 'none',\n\t\t\t\t\t\t\tstroke: '#231f20',\n\t\t\t\t\t\t\tstrokeWidth: 10,\n\t\t\t\t\t\t\tstrokeLinecap: 'butt',\n\t\t\t\t\t\t\tstrokeLinejoin: 'miter',\n\t\t\t\t\t\t\tstrokeMiterlimit: 4,\n\t\t\t\t\t\t\tstrokeDasharray: 'none',\n\t\t\t\t\t\t\tstrokeOpacity: 1,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\td=\"M 8503.9,0 H 0 v 8503.9 h 8503.9 z\"\n\t\t\t\t\t/>\n\t\t\t\t\t<path\n\t\t\t\t\t\tid=\"path24\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfill: '#231f20',\n\t\t\t\t\t\t\tfillOpacity: 1,\n\t\t\t\t\t\t\tfillRule: 'nonzero',\n\t\t\t\t\t\t\tstroke: 'none',\n\t\t\t\t\t\t\tstrokeWidth: 1.83441,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\td=\"m 2781.6698,1990.5261 h 387.4264 c 79.6683,-286.9745 172.9294,-546.0841 279.8202,-777.2559 86.4372,-187.2011 195.7861,-364.20287 327.2213,-531.50066 168.1783,-24.06734 340.0069,-36.76143 514.8441,-36.76143 823.703,0 1582.7249,276.49979 2189.7113,741.46659 -32.7808,178.9463 -101.8829,349.2342 -207.3795,510.7535 -153.0628,234.4003 -381.0794,412.0992 -683.9763,533.3533 -207.3246,82.8785 -444.825,174.562 -712.6848,275.0141 -267.8416,100.4521 -499.0867,195.2908 -693.552,284.5896 -382.6387,172.1957 -680.014,397.7541 -892.0347,676.8038 -212.0939,278.9949 -318.0675,643.326 -318.0675,1092.9387 0,258.2844 52.6108,499.0134 157.8322,722.2422 105.2215,223.1553 255.0741,422.4818 449.6128,597.8877 184.8897,165.7568 403.349,295.7245 655.2862,389.8111 251.8456,94.0133 514.9176,141.1025 789.1978,141.1025 312.4727,0 592.2745,-47.823 839.4423,-143.4872 247.0761,-95.6642 472.6896,-207.3246 676.7855,-334.8157 l 196.1163,325.2585 H 7119.91 l 38.2657,-2252.8333 h -387.4264 c -70.166,258.2843 -149.1005,505.3604 -236.7484,741.3749 -87.758,235.9413 -201.7111,449.6129 -342.0065,640.9229 -137.1217,184.9081 -304.5297,332.431 -502.2235,442.4403 -197.7489,110.0093 -440.0372,165.0231 -727.0298,165.0231 -302.9704,0 -561.2547,-97.3153 -774.8529,-291.7805 -213.6714,-194.5388 -320.4705,-432.1126 -320.4705,-712.6666 0,-293.413 68.5334,-536.5267 205.6734,-729.4145 137.0668,-192.9794 336.375,-351.5638 597.8877,-475.9181 232.7311,-111.6602 461.5548,-208.0583 686.3795,-289.3775 224.7881,-81.3192 442.4219,-168.2333 652.8833,-260.6873 191.3285,-82.9519 375.466,-176.9651 552.4495,-282.1866 176.965,-105.2398 330.7799,-228.035 461.5546,-368.2936 132.5725,-147.3577 232.7127,-307.7398 301.3378,-480.8709 360.6258,561.2545 569.8397,1229.0698 569.8397,1945.772 0,1990.66 -1613.7631,3604.4231 -3604.4414,3604.4231 -1990.6599,0 -3604.40466,-1613.7631 -3604.40466,-3604.4231 0,-1463.3418 872.02126,-2722.9546 2124.71836,-3287.6395 l -29.6257,1028.7345\"\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</svg>\n\t);\n};\n\nexport default SidekickLogo;\n","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { useState, useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { PluginSidebar, PluginSidebarMoreMenuItem } from '@wordpress/edit-post';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPanelBody,\n\tTextareaControl,\n\tButton,\n\tRangeControl,\n\tSpinner,\n\tIcon,\n\t__experimentalDivider as Divider,\n} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport React from 'react';\nimport SidekickLogo from './s-logo';\n\n/**\n *\n * @param  props\n */\nfunction FJSidekickSidebar(props) {\n\tconst [loading, setLoading] = useState(false);\n\tconst [prompt, setPrompt] = useState('');\n\tconst [result, setResult] = useState('');\n\tconst [length, setLength] = useState(150);\n\n\tconst apiKey = fjSidekick.openaiApiKey;\n\tconst apiURL = 'https://api.openai.com/v1/completions';\n\n\tconst getCurrentUser = useSelect((select) => {\n\t\treturn select('core').getCurrentUser;\n\t}, []);\n\n\tconst { editEntityRecord, saveEditedEntityRecord } = useDispatch('core');\n\n\tconst setInitialState = async () => {\n\t\tconst currentUser = await getCurrentUser();\n\t\tconst lastIndex = currentUser.meta.fj_sidekick_history.items.length - 1;\n\t\tconst lastItem = currentUser.meta.fj_sidekick_history.items[lastIndex];\n\n\t\tif (lastItem) {\n\t\t\tsetPrompt(lastItem.prompt);\n\t\t\tsetResult(lastItem.result);\n\t\t\tsetLength(lastItem.length);\n\t\t}\n\t};\n\n\t// This prevents editEntityRecord from failing with an \"undefined\" error on its first call\n\tconst warmUpEditEntityRecord = async () => {\n\t\tawait getCurrentUser();\n\t\tawait editEntityRecord('root', 'user', 1, {});\n\t\tawait saveEditedEntityRecord('root', 'user', 1);\n\t};\n\n\tconst addHistoryItem = async (newResult) => {\n\t\tconst currentUser = await getCurrentUser();\n\t\tconst meta = (currentUser && currentUser.meta) || [];\n\t\tconst history = (meta && meta.fj_sidekick_history) || null;\n\t\tconst items = (history && history.items) || [];\n\t\tconst newItems = [...items, { prompt, result: newResult, length }];\n\t\tconst newMeta = {\n\t\t\t...meta,\n\t\t\tfj_sidekick_history: {\n\t\t\t\t...history,\n\t\t\t\titems: newItems,\n\t\t\t},\n\t\t};\n\t\tawait editEntityRecord('root', 'user', currentUser.id, {\n\t\t\tmeta: newMeta,\n\t\t});\n\t\tawait saveEditedEntityRecord('root', 'user', currentUser.id);\n\t};\n\n\tconst onButtonClick = async () => {\n\t\tsetLoading(true);\n\n\t\tconst requestOptions = {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAuthorization: 'Bearer ' + apiKey,\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tmodel: 'text-davinci-002',\n\t\t\t\tprompt,\n\t\t\t\ttemperature: 0,\n\t\t\t\tmax_tokens: length,\n\t\t\t}),\n\t\t};\n\n\t\tconst response = await fetch(apiURL, requestOptions);\n\t\tconst data = await response.json();\n\t\tconst newResult =\n\t\t\tdata && data.choices && data.choices[0]\n\t\t\t\t? data.choices[0].text.trim()\n\t\t\t\t: __('No result', 'fj-sidekick');\n\n\t\tsetResult(newResult);\n\t\tsetLoading(false);\n\n\t\taddHistoryItem(newResult);\n\t};\n\n\tuseEffect(async () => {\n\t\twarmUpEditEntityRecord();\n\t\tsetTimeout(() => setInitialState(), 50);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__('AI Writer', 'fj-sidekick')}\n\t\t\t\ticon=\"welcome-write-blog\"\n\t\t\t\tintialOpen={true}\n\t\t\t>\n\t\t\t\t<TextareaControl\n\t\t\t\t\tvalue={prompt}\n\t\t\t\t\tlabel={__('Prompt', 'fj-sidekick')}\n\t\t\t\t\tonChange={(value) => setPrompt(value)}\n\t\t\t\t/>\n\n\t\t\t\t<RangeControl\n\t\t\t\t\tlabel={__('Length', 'fj-sidekick')}\n\t\t\t\t\tmin={10}\n\t\t\t\t\tmax={250}\n\t\t\t\t\tvalue={length}\n\t\t\t\t\tonChange={(value) => setLength(value)}\n\t\t\t\t/>\n\n\t\t\t\t<Button\n\t\t\t\t\tisPrimary\n\t\t\t\t\tonClick={onButtonClick}\n\t\t\t\t\tstyle={{ marginBottom: 20 }}\n\t\t\t\t\tdisabled={loading}\n\t\t\t\t>\n\t\t\t\t\t{__('Get Content', 'fj-sidekick')}\n\t\t\t\t</Button>\n\n\t\t\t\t{loading && <Spinner />}\n\n\t\t\t\t{result && !loading && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\tvalue={result}\n\t\t\t\t\t\t\tlabel={__('Result', 'fj-sidekick')}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\theight: 300,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={(e) => e.target.select()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(result)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"fj-sidekick-copy-button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon=\"admin-page\" />\n\t\t\t\t\t\t\t{__('Copy to Clipboard', 'fj-sidekick')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</PanelBody>\n\t\t</>\n\t);\n}\n\nregisterPlugin('fj-sidekick-sidebar', {\n\ticon: SidekickLogo,\n\trender: () => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<PluginSidebarMoreMenuItem target=\"fj-sidekick-sidebar\">\n\t\t\t\t\t{__('Sidekick', 'fj-sidekick')}\n\t\t\t\t</PluginSidebarMoreMenuItem>\n\t\t\t\t<PluginSidebar\n\t\t\t\t\tname=\"fj-sidekick-sidebar\"\n\t\t\t\t\ttitle={__('Sidekick', 'fj-sidekick')}\n\t\t\t\t>\n\t\t\t\t\t<FJSidekickSidebar />\n\t\t\t\t</PluginSidebar>\n\t\t\t</>\n\t\t);\n\t},\n});\n"],"names":["React","SidekickLogo","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeOpacity","fillOpacity","fillRule","useState","useEffect","useSelect","useDispatch","registerPlugin","PluginSidebar","PluginSidebarMoreMenuItem","__","PanelBody","TextareaControl","Button","RangeControl","Spinner","Icon","__experimentalDivider","Divider","withSelect","withDispatch","FJSidekickSidebar","props","loading","setLoading","prompt","setPrompt","result","setResult","length","setLength","apiKey","fjSidekick","openaiApiKey","apiURL","getCurrentUser","select","editEntityRecord","saveEditedEntityRecord","setInitialState","currentUser","lastIndex","meta","fj_sidekick_history","items","lastItem","warmUpEditEntityRecord","addHistoryItem","newResult","history","newItems","newMeta","id","onButtonClick","requestOptions","method","headers","Authorization","body","JSON","stringify","model","temperature","max_tokens","fetch","response","json","data","choices","text","trim","setTimeout","value","marginBottom","height","e","target","navigator","clipboard","writeText","icon","render"],"sourceRoot":""}